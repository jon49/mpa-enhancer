(()=>{let t=document,a=window,l=t.querySelector.bind(t);function n(){return new URL(t.location.href).pathname.replace(/\/$/,"")}a.addEventListener("beforeunload",()=>{let e=t.activeElement;localStorage.pageLocation=JSON.stringify({href:n(),y:a.scrollY,height:t.body.scrollHeight,active:{id:e?.id,name:e?.getAttribute("name")}})});function c(){if(l("[autofocus]"))return;let e=localStorage.pageLocation;if(!e)return;let{y:o,height:u,href:d,active:{id:f,name:g}}=JSON.parse(e);!t.body.hasAttribute("data-ignore-scroll")&&d===n()&&o&&a.scrollTo({top:o+t.body.scrollHeight-u});let i=t.getElementById(f)||l(`[name="${g}"]`);r("focus",i),r("select",i)}function r(e,o){o&&o[e]&&o[e]()}c()})();
