(()=>{let t=document,n=window,a=t.querySelector.bind(t);function i(e,o){return e.hasAttribute(o)}function l(){return new URL(t.location.href).pathname.replace(/\/$/,"")}n.addEventListener("beforeunload",()=>{let e=t.activeElement;localStorage.pageLocation=JSON.stringify({href:l(),y:n.scrollY,height:t.body.scrollHeight,active:{id:e?.id,name:e?.getAttribute("name")}})});function u(){if(a("[autofocus]"))return;let e=localStorage.pageLocation;if(!e)return;let{y:o,height:f,href:s,active:{id:d,name:g}}=JSON.parse(e);!i(t.body,"mpa-skip-scroll")&&s===l()&&o&&n.scrollTo({top:o+t.body.scrollHeight-f});let r=t.getElementById(d)||a(`[name="${g}"]`);!r||i(r,"mpa-skip-focus")||(c("focus",r),c("select",r))}function c(e,o){o[e]&&o[e]()}u()})();
